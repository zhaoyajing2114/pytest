{"name": "test_proxy_keepalive[关闭]", "status": "passed", "steps": [{"name": "获取网站的初始配置", "status": "passed", "steps": [{"name": "从redis中获取网站的初始配置", "status": "passed", "parameters": [{"name": "site_name", "value": "'www.lvluoyun.com'"}, {"name": "except_result", "value": "['config_time', 'server_name', 'ssl.status', 'ssl.http2https', 'ssl.min_version', 'ssl.http2_disable', 'ssl.hsts', 'proxy_connect_timeout', 'proxy_keepalive', 'health_check.max_fails', 'health_check.fails_timeout', 'health_check.keep_new_src_time']"}], "start": 1607507756338, "stop": 1607507756554}, {"name": "从redis中获取网站的初始配置", "status": "passed", "parameters": [{"name": "site_name", "value": "'0922.lvluoyun.com'"}, {"name": "except_result", "value": "['config_time', 'server_name', 'ssl.status', 'ssl.http2https', 'ssl.min_version', 'ssl.http2_disable', 'ssl.hsts', 'proxy_connect_timeout', 'proxy_keepalive', 'health_check.max_fails', 'health_check.fails_timeout', 'health_check.keep_new_src_time']"}], "start": 1607507756554, "stop": 1607507756708}], "start": 1607507756338, "stop": 1607507756708}, {"name": "打开web安全加速，批量选择网站", "status": "passed", "steps": [{"name": "打开web安全加速，选择模块：'业务列表'", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'//span[text()=\"WEB安全加速\"]/ancestor::div[contains(@class,\"FeMenuItemGroup\") and not(contains(@class,\"header\"))]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//span[text()=\"WEB安全加速\"]/ancestor::div[contains(@class,\"FeMenuItemGroup\") and not(contains(@class,\"header\"))]'"}, {"name": "time_wait", "value": "5"}], "start": 1607507756709, "stop": 1607507756724}, {"name": "查找元素:类型-'xpath'，定位：'//span[contains(text(),\"WEB安全加速\")]/ancestor::div[contains(@class,\"open\")]//span[contains(text(),\"业务列表\")]/ancestor::a'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//span[contains(text(),\"WEB安全加速\")]/ancestor::div[contains(@class,\"open\")]//span[contains(text(),\"业务列表\")]/ancestor::a'"}, {"name": "time_wait", "value": "2"}], "start": 1607507757770, "stop": 1607507757783}], "parameters": [{"name": "module_name", "value": "'业务列表'"}], "start": 1607507756709, "stop": 1607507757899}, {"name": "打开web安全加速，选择分组：'自动化测试使用'", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'(//input)[2]/following::i[1]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'(//input)[2]/following::i[1]'"}, {"name": "time_wait", "value": "5"}], "start": 1607507757899, "stop": 1607507757911}, {"name": "查找元素:类型-'xpath'，定位：'//li[contains(text(),'自动化测试使用')]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//li[contains(text(),'自动化测试使用')]'"}, {"name": "time_wait", "value": "10"}], "start": 1607507759957, "stop": 1607507759967}], "parameters": [{"name": "group_name", "value": "'自动化测试使用'"}], "start": 1607507757899, "stop": 1607507765591}, {"name": "选择网站:'www.lvluoyun.com'", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'//a[text()=\"www.lvluoyun.com\"]/preceding::input[@type=\"checkbox\"][1]/..'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//a[text()=\"www.lvluoyun.com\"]/preceding::input[@type=\"checkbox\"][1]/..'"}, {"name": "time_wait", "value": "5"}], "start": 1607507765591, "stop": 1607507765602}], "parameters": [{"name": "site_name", "value": "'www.lvluoyun.com'"}], "start": 1607507765591, "stop": 1607507765665}, {"name": "选择网站:'0922.lvluoyun.com'", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'//a[text()=\"0922.lvluoyun.com\"]/preceding::input[@type=\"checkbox\"][1]/..'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//a[text()=\"0922.lvluoyun.com\"]/preceding::input[@type=\"checkbox\"][1]/..'"}, {"name": "time_wait", "value": "5"}], "start": 1607507765666, "stop": 1607507765683}], "parameters": [{"name": "site_name", "value": "'0922.lvluoyun.com'"}], "start": 1607507765665, "stop": 1607507765729}, {"name": "选择更多操作下的：'批量配置'", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'//span[contains(text(),\"更多操作\")]/i[contains(@class,\"el-icon-arrow-down\")]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//span[contains(text(),\"更多操作\")]/i[contains(@class,\"el-icon-arrow-down\")]'"}, {"name": "time_wait", "value": "5"}], "start": 1607507765730, "stop": 1607507765739}, {"name": "查找元素:类型-'xpath'，定位：'//li[contains(text(),\"批量配置\")]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//li[contains(text(),\"批量配置\")]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507766279, "stop": 1607507766299}], "parameters": [{"name": "option_name", "value": "'批量配置'"}], "start": 1607507765729, "stop": 1607507766366}], "start": 1607507756709, "stop": 1607507766366}, {"name": "修改回源保持长连接", "status": "passed", "steps": [{"name": "点击名称是'回源保持长连接'的修改配置", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'//div[contains(text(),\"回源保持长连接\")]/ancestor::tr//button'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//div[contains(text(),\"回源保持长连接\")]/ancestor::tr//button'"}, {"name": "time_wait", "value": "2"}], "start": 1607507767379, "stop": 1607507767395}], "parameters": [{"name": "module_name", "value": "'回源保持长连接'"}], "start": 1607507766367, "stop": 1607507767464}, {"name": "修改回源保持长链接", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'//div[@role=\"dialog\" and @aria-label=\"回源保持长连接\"]//span[@class=\"el-input__suffix\"]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//div[@role=\"dialog\" and @aria-label=\"回源保持长连接\"]//span[@class=\"el-input__suffix\"]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507767464, "stop": 1607507767483}, {"name": "查找元素:类型-'xpath'，定位：'//li[contains(text(),\"关闭\")]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//li[contains(text(),\"关闭\")]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507768110, "stop": 1607507768129}, {"name": "校验元素属性:类型-'xpath'，定位：'//div[@role=\"dialog\" and @aria-label=\"回源保持长连接\"]//input'，预期内容'关闭'，属性：'value'", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'//div[@role=\"dialog\" and @aria-label=\"回源保持长连接\"]//input'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//div[@role=\"dialog\" and @aria-label=\"回源保持长连接\"]//input'"}, {"name": "time_wait", "value": "2"}], "start": 1607507768159, "stop": 1607507768169}], "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//div[@role=\"dialog\" and @aria-label=\"回源保持长连接\"]//input'"}, {"name": "ele_text", "value": "'关闭'"}, {"name": "attr", "value": "'value'"}, {"name": "time_wait", "value": "2"}], "start": 1607507768159, "stop": 1607507768289}, {"name": "查找元素:类型-'xpath'，定位：'//div[@role=\"dialog\" and @aria-label=\"回源保持长连接\"]//span[contains(text(),\"保存\")]/..'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//div[@role=\"dialog\" and @aria-label=\"回源保持长连接\"]//span[contains(text(),\"保存\")]/..'"}, {"name": "time_wait", "value": "2"}], "start": 1607507768290, "stop": 1607507768303}, {"name": "校验界面上是否存在某元素:类型-'xpath'，定位：'//div[contains(@class,\"success\") and contains(@class,\"message\")]'", "status": "passed", "steps": [{"name": "查找多个元素:类型-'xpath'，定位：'//div[contains(@class,\"success\") and contains(@class,\"message\")]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//div[contains(@class,\"success\") and contains(@class,\"message\")]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507768346, "stop": 1607507768661}], "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//div[contains(@class,\"success\") and contains(@class,\"message\")]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507768346, "stop": 1607507768661}], "parameters": [{"name": "status", "value": "'关闭'"}], "start": 1607507767464, "stop": 1607507768662}], "attachments": [{"name": "回源保持长连接,打开", "source": "59090268-0835-4805-a961-f3e0b3a0041a-attachment.csv", "type": "text/csv"}], "start": 1607507766367, "stop": 1607507768662}, {"name": "获取网站修改之后的配置", "status": "passed", "steps": [{"name": "打开页面:'http://yundun.test.nodevops.cn/console/cloud-speed/businessList/websiteList'", "status": "passed", "parameters": [{"name": "url", "value": "'http://yundun.test.nodevops.cn/console/cloud-speed/businessList/websiteList'"}], "start": 1607507768662, "stop": 1607507771062}, {"name": "校验网站的配置和预期是否一致", "status": "passed", "steps": [{"name": "打开web安全加速，选择分组：'自动化测试使用'", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'(//input)[2]/following::i[1]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'(//input)[2]/following::i[1]'"}, {"name": "time_wait", "value": "5"}], "start": 1607507771223, "stop": 1607507771237}, {"name": "查找元素:类型-'xpath'，定位：'//li[contains(text(),'自动化测试使用')]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//li[contains(text(),'自动化测试使用')]'"}, {"name": "time_wait", "value": "10"}], "start": 1607507773296, "stop": 1607507773305}], "parameters": [{"name": "group_name", "value": "'自动化测试使用'"}], "start": 1607507771222, "stop": 1607507778809}, {"name": "查找元素:类型-'xpath'，定位：'//a[text()=\"www.lvluoyun.com\"]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//a[text()=\"www.lvluoyun.com\"]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507778819, "stop": 1607507778828}, {"name": "查找多个元素:类型-'xpath'，定位：'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr'"}, {"name": "time_wait", "value": "2"}], "start": 1607507779402, "stop": 1607507779920}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr[1]/td[1]//div[@class=\"cell\"]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr[1]/td[1]//div[@class=\"cell\"]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507779920, "stop": 1607507779932}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr[1]/td[2]//div[@class=\"cell\"]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr[1]/td[2]//div[@class=\"cell\"]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507779942, "stop": 1607507779951}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr[1]/td[3]//div[@class=\"cell\"]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr[1]/td[3]//div[@class=\"cell\"]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507779961, "stop": 1607507779970}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr[1]/td[4]//div[@class=\"cell\"]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr[1]/td[4]//div[@class=\"cell\"]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507779982, "stop": 1607507779991}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"回源 HOST\"]/../../div[3]//input'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"回源 HOST\"]/../../div[3]//input'"}, {"name": "time_wait", "value": "2"}], "start": 1607507780007, "stop": 1607507780016}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"Range 回源\"]/../../div[3]//input'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"Range 回源\"]/../../div[3]//input'"}, {"name": "time_wait", "value": "2"}], "start": 1607507780021, "stop": 1607507780031}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"回源请求时长\"]/../../div[2]//input'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"回源请求时长\"]/../../div[2]//input'"}, {"name": "time_wait", "value": "2"}], "start": 1607507780034, "stop": 1607507780042}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"回源保持长连接\"]/../../div[3]//input'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"回源保持长连接\"]/../../div[3]//input'"}, {"name": "time_wait", "value": "2"}], "start": 1607507780046, "stop": 1607507780056}, {"name": "查找元素:类型-'xpath'，定位：'//label[text()=\"回源失败次数\"]/following::input[1]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//label[text()=\"回源失败次数\"]/following::input[1]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507780060, "stop": 1607507780067}, {"name": "查找元素:类型-'xpath'，定位：'//label[text()=\"回源失败统计时间间隔\"]/following::input[1]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//label[text()=\"回源失败统计时间间隔\"]/following::input[1]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507780073, "stop": 1607507780084}, {"name": "查找元素:类型-'xpath'，定位：'//label[text()=\"回源失败禁用不可用IP时间\"]/following::input[1]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//label[text()=\"回源失败禁用不可用IP时间\"]/following::input[1]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507780088, "stop": 1607507780098}, {"name": "查找元素:类型-'xpath'，定位：'//a[contains(text(),\"高级配置\")]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//a[contains(text(),\"高级配置\")]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507780102, "stop": 1607507780110}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"HTTPS\"]/../../div[3]//input'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"HTTPS\"]/../../div[3]//input'"}, {"name": "time_wait", "value": "2"}], "start": 1607507780655, "stop": 1607507780665}, {"name": "查找元素:类型-'xpath'，定位：'//i[contains(@class,\"el-icon-back\")]/..'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//i[contains(@class,\"el-icon-back\")]/..'"}, {"name": "time_wait", "value": "5"}], "start": 1607507780669, "stop": 1607507780679}], "parameters": [{"name": "group_name", "value": "'自动化测试使用'"}, {"name": "site_name", "value": "'www.lvluoyun.com'"}], "start": 1607507771062, "stop": 1607507780809}, {"name": "从redis中获取网站的初始配置", "status": "passed", "parameters": [{"name": "site_name", "value": "'www.lvluoyun.com'"}, {"name": "except_result", "value": "['config_time', 'server_name', 'ssl.status', 'ssl.http2https', 'ssl.min_version', 'ssl.http2_disable', 'ssl.hsts', 'proxy_connect_timeout', 'proxy_keepalive', 'health_check.max_fails', 'health_check.fails_timeout', 'health_check.keep_new_src_time']"}], "start": 1607507780809, "stop": 1607507781388}, {"name": "校验网站的配置和预期是否一致", "status": "passed", "steps": [{"name": "打开web安全加速，选择分组：'自动化测试使用'", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'(//input)[2]/following::i[1]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'(//input)[2]/following::i[1]'"}, {"name": "time_wait", "value": "5"}], "start": 1607507781966, "stop": 1607507781976}, {"name": "查找元素:类型-'xpath'，定位：'//li[contains(text(),'自动化测试使用')]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//li[contains(text(),'自动化测试使用')]'"}, {"name": "time_wait", "value": "10"}], "start": 1607507784024, "stop": 1607507784031}], "parameters": [{"name": "group_name", "value": "'自动化测试使用'"}], "start": 1607507781965, "stop": 1607507789531}, {"name": "查找元素:类型-'xpath'，定位：'//a[text()=\"0922.lvluoyun.com\"]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//a[text()=\"0922.lvluoyun.com\"]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507789550, "stop": 1607507789556}, {"name": "查找多个元素:类型-'xpath'，定位：'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr'", "status": "passed", "attachments": [{"name": "批量获取元素失败", "source": "51c670c3-5eb5-4f4c-9ed7-5650cddf0759-attachment.png", "type": "image/png"}], "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr'"}, {"name": "time_wait", "value": "2"}], "start": 1607507790043, "stop": 1607507795543}, {"name": "查找元素:类型-'xpath'，定位：'//i[contains(@class,\"el-icon-back\")]/..'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//i[contains(@class,\"el-icon-back\")]/..'"}, {"name": "time_wait", "value": "5"}], "start": 1607507795543, "stop": 1607507795556}], "parameters": [{"name": "group_name", "value": "'自动化测试使用'"}, {"name": "site_name", "value": "'0922.lvluoyun.com'"}], "start": 1607507781388, "stop": 1607507795692}, {"name": "从redis中获取网站的初始配置", "status": "passed", "parameters": [{"name": "site_name", "value": "'0922.lvluoyun.com'"}, {"name": "except_result", "value": "['config_time', 'server_name', 'ssl.status', 'ssl.http2https', 'ssl.min_version', 'ssl.http2_disable', 'ssl.hsts', 'proxy_connect_timeout', 'proxy_keepalive', 'health_check.max_fails', 'health_check.fails_timeout', 'health_check.keep_new_src_time']"}], "start": 1607507795692, "stop": 1607507796013}], "start": 1607507768662, "stop": 1607507796013}, {"name": "比对前后数据", "status": "passed", "attachments": [{"name": "前后结果", "source": "fdce8f0d-66c7-4f7e-965b-96d752b57d93-attachment.png", "type": "image/png"}], "start": 1607507796013, "stop": 1607507796014}, {"name": "比对前后数据", "status": "passed", "attachments": [{"name": "前后结果", "source": "2b1fb778-b601-45b7-bc09-9dbcb096f68f-attachment.png", "type": "image/png"}], "start": 1607507796014, "stop": 1607507796015}], "parameters": [{"name": "status", "value": "'关闭'"}], "start": 1607507756337, "stop": 1607507796015, "uuid": "19f926ae-4dea-4598-8095-927dc2c4a929", "historyId": "bd0cf6f1d9fbfa5033a4ed8b101c6067", "testCaseId": "12917654eabe5b88d708ccf2800b81a5", "fullName": "test_web_page.test_config.TestConfig#test_proxy_keepalive", "labels": [{"name": "story", "value": "批量修改回源保持长连接-验证批量修改生效并且其他的参数不受影响"}, {"name": "severity", "value": "critical"}, {"name": "feature", "value": "测试修改配置并校验配置是否生效"}, {"name": "tag", "value": "run(order=4)"}, {"name": "tag", "value": "page"}, {"name": "parentSuite", "value": "test_web_page"}, {"name": "suite", "value": "test_config"}, {"name": "subSuite", "value": "TestConfig"}, {"name": "host", "value": "LAPTOP-HRAELMRK"}, {"name": "thread", "value": "5764-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_web_page.test_config"}]}