{"name": "test_proxy_keepalive[开启]", "status": "passed", "steps": [{"name": "获取网站的初始配置", "status": "passed", "steps": [{"name": "从redis中获取网站的初始配置", "status": "passed", "parameters": [{"name": "site_name", "value": "'www.lvluoyun.com'"}, {"name": "except_result", "value": "['config_time', 'server_name', 'ssl.status', 'ssl.http2https', 'ssl.min_version', 'ssl.http2_disable', 'ssl.hsts', 'proxy_connect_timeout', 'proxy_keepalive', 'health_check.max_fails', 'health_check.fails_timeout', 'health_check.keep_new_src_time']"}], "start": 1607507717265, "stop": 1607507717415}, {"name": "从redis中获取网站的初始配置", "status": "passed", "parameters": [{"name": "site_name", "value": "'0922.lvluoyun.com'"}, {"name": "except_result", "value": "['config_time', 'server_name', 'ssl.status', 'ssl.http2https', 'ssl.min_version', 'ssl.http2_disable', 'ssl.hsts', 'proxy_connect_timeout', 'proxy_keepalive', 'health_check.max_fails', 'health_check.fails_timeout', 'health_check.keep_new_src_time']"}], "start": 1607507717415, "stop": 1607507717560}], "start": 1607507717265, "stop": 1607507717560}, {"name": "打开web安全加速，批量选择网站", "status": "passed", "steps": [{"name": "打开web安全加速，选择模块：'业务列表'", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'//span[text()=\"WEB安全加速\"]/ancestor::div[contains(@class,\"FeMenuItemGroup\") and not(contains(@class,\"header\"))]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//span[text()=\"WEB安全加速\"]/ancestor::div[contains(@class,\"FeMenuItemGroup\") and not(contains(@class,\"header\"))]'"}, {"name": "time_wait", "value": "5"}], "start": 1607507717560, "stop": 1607507717577}, {"name": "查找元素:类型-'xpath'，定位：'//span[contains(text(),\"WEB安全加速\")]/ancestor::div[contains(@class,\"open\")]//span[contains(text(),\"业务列表\")]/ancestor::a'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//span[contains(text(),\"WEB安全加速\")]/ancestor::div[contains(@class,\"open\")]//span[contains(text(),\"业务列表\")]/ancestor::a'"}, {"name": "time_wait", "value": "2"}], "start": 1607507718632, "stop": 1607507718642}], "parameters": [{"name": "module_name", "value": "'业务列表'"}], "start": 1607507717560, "stop": 1607507718746}, {"name": "打开web安全加速，选择分组：'自动化测试使用'", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'(//input)[2]/following::i[1]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'(//input)[2]/following::i[1]'"}, {"name": "time_wait", "value": "5"}], "start": 1607507718746, "stop": 1607507718753}, {"name": "查找元素:类型-'xpath'，定位：'//li[contains(text(),'自动化测试使用')]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//li[contains(text(),'自动化测试使用')]'"}, {"name": "time_wait", "value": "10"}], "start": 1607507720791, "stop": 1607507720799}], "parameters": [{"name": "group_name", "value": "'自动化测试使用'"}], "start": 1607507718746, "stop": 1607507726376}, {"name": "选择网站:'www.lvluoyun.com'", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'//a[text()=\"www.lvluoyun.com\"]/preceding::input[@type=\"checkbox\"][1]/..'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//a[text()=\"www.lvluoyun.com\"]/preceding::input[@type=\"checkbox\"][1]/..'"}, {"name": "time_wait", "value": "5"}], "start": 1607507726376, "stop": 1607507726386}], "parameters": [{"name": "site_name", "value": "'www.lvluoyun.com'"}], "start": 1607507726376, "stop": 1607507726449}, {"name": "选择网站:'0922.lvluoyun.com'", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'//a[text()=\"0922.lvluoyun.com\"]/preceding::input[@type=\"checkbox\"][1]/..'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//a[text()=\"0922.lvluoyun.com\"]/preceding::input[@type=\"checkbox\"][1]/..'"}, {"name": "time_wait", "value": "5"}], "start": 1607507726450, "stop": 1607507726469}], "parameters": [{"name": "site_name", "value": "'0922.lvluoyun.com'"}], "start": 1607507726450, "stop": 1607507726572}, {"name": "选择更多操作下的：'批量配置'", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'//span[contains(text(),\"更多操作\")]/i[contains(@class,\"el-icon-arrow-down\")]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//span[contains(text(),\"更多操作\")]/i[contains(@class,\"el-icon-arrow-down\")]'"}, {"name": "time_wait", "value": "5"}], "start": 1607507726572, "stop": 1607507726583}, {"name": "查找元素:类型-'xpath'，定位：'//li[contains(text(),\"批量配置\")]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//li[contains(text(),\"批量配置\")]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507727121, "stop": 1607507727132}], "parameters": [{"name": "option_name", "value": "'批量配置'"}], "start": 1607507726572, "stop": 1607507727170}], "start": 1607507717560, "stop": 1607507727170}, {"name": "修改回源保持长连接", "status": "passed", "steps": [{"name": "点击名称是'回源保持长连接'的修改配置", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'//div[contains(text(),\"回源保持长连接\")]/ancestor::tr//button'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//div[contains(text(),\"回源保持长连接\")]/ancestor::tr//button'"}, {"name": "time_wait", "value": "2"}], "start": 1607507728195, "stop": 1607507728208}], "parameters": [{"name": "module_name", "value": "'回源保持长连接'"}], "start": 1607507727180, "stop": 1607507728279}, {"name": "修改回源保持长链接", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'//div[@role=\"dialog\" and @aria-label=\"回源保持长连接\"]//span[@class=\"el-input__suffix\"]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//div[@role=\"dialog\" and @aria-label=\"回源保持长连接\"]//span[@class=\"el-input__suffix\"]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507728280, "stop": 1607507728299}, {"name": "查找元素:类型-'xpath'，定位：'//li[contains(text(),\"开启\")]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//li[contains(text(),\"开启\")]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507728910, "stop": 1607507728929}, {"name": "校验元素属性:类型-'xpath'，定位：'//div[@role=\"dialog\" and @aria-label=\"回源保持长连接\"]//input'，预期内容'开启'，属性：'value'", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'//div[@role=\"dialog\" and @aria-label=\"回源保持长连接\"]//input'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//div[@role=\"dialog\" and @aria-label=\"回源保持长连接\"]//input'"}, {"name": "time_wait", "value": "2"}], "start": 1607507728957, "stop": 1607507728967}], "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//div[@role=\"dialog\" and @aria-label=\"回源保持长连接\"]//input'"}, {"name": "ele_text", "value": "'开启'"}, {"name": "attr", "value": "'value'"}, {"name": "time_wait", "value": "2"}], "start": 1607507728957, "stop": 1607507729085}, {"name": "查找元素:类型-'xpath'，定位：'//div[@role=\"dialog\" and @aria-label=\"回源保持长连接\"]//span[contains(text(),\"保存\")]/..'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//div[@role=\"dialog\" and @aria-label=\"回源保持长连接\"]//span[contains(text(),\"保存\")]/..'"}, {"name": "time_wait", "value": "2"}], "start": 1607507729085, "stop": 1607507729094}, {"name": "校验界面上是否存在某元素:类型-'xpath'，定位：'//div[contains(@class,\"success\") and contains(@class,\"message\")]'", "status": "passed", "steps": [{"name": "查找多个元素:类型-'xpath'，定位：'//div[contains(@class,\"success\") and contains(@class,\"message\")]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//div[contains(@class,\"success\") and contains(@class,\"message\")]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507729130, "stop": 1607507729504}], "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//div[contains(@class,\"success\") and contains(@class,\"message\")]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507729130, "stop": 1607507729504}], "parameters": [{"name": "status", "value": "'开启'"}], "start": 1607507728279, "stop": 1607507729504}], "attachments": [{"name": "回源保持长连接,打开", "source": "f6d61c4c-5275-454a-9d87-c5bdf737ab9c-attachment.csv", "type": "text/csv"}], "start": 1607507727170, "stop": 1607507729504}, {"name": "获取网站修改之后的配置", "status": "passed", "steps": [{"name": "打开页面:'http://yundun.test.nodevops.cn/console/cloud-speed/businessList/websiteList'", "status": "passed", "parameters": [{"name": "url", "value": "'http://yundun.test.nodevops.cn/console/cloud-speed/businessList/websiteList'"}], "start": 1607507729504, "stop": 1607507731990}, {"name": "校验网站的配置和预期是否一致", "status": "passed", "steps": [{"name": "打开web安全加速，选择分组：'自动化测试使用'", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'(//input)[2]/following::i[1]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'(//input)[2]/following::i[1]'"}, {"name": "time_wait", "value": "5"}], "start": 1607507732172, "stop": 1607507732185}, {"name": "查找元素:类型-'xpath'，定位：'//li[contains(text(),'自动化测试使用')]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//li[contains(text(),'自动化测试使用')]'"}, {"name": "time_wait", "value": "10"}], "start": 1607507734241, "stop": 1607507734261}], "parameters": [{"name": "group_name", "value": "'自动化测试使用'"}], "start": 1607507732172, "stop": 1607507739798}, {"name": "查找元素:类型-'xpath'，定位：'//a[text()=\"www.lvluoyun.com\"]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//a[text()=\"www.lvluoyun.com\"]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507739812, "stop": 1607507739817}, {"name": "查找多个元素:类型-'xpath'，定位：'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr'"}, {"name": "time_wait", "value": "2"}], "start": 1607507740390, "stop": 1607507740720}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr[1]/td[1]//div[@class=\"cell\"]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr[1]/td[1]//div[@class=\"cell\"]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507740720, "stop": 1607507740730}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr[1]/td[2]//div[@class=\"cell\"]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr[1]/td[2]//div[@class=\"cell\"]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507740741, "stop": 1607507740752}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr[1]/td[3]//div[@class=\"cell\"]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr[1]/td[3]//div[@class=\"cell\"]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507740761, "stop": 1607507740770}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr[1]/td[4]//div[@class=\"cell\"]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr[1]/td[4]//div[@class=\"cell\"]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507740779, "stop": 1607507740792}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"回源 HOST\"]/../../div[3]//input'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"回源 HOST\"]/../../div[3]//input'"}, {"name": "time_wait", "value": "2"}], "start": 1607507740810, "stop": 1607507740822}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"Range 回源\"]/../../div[3]//input'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"Range 回源\"]/../../div[3]//input'"}, {"name": "time_wait", "value": "2"}], "start": 1607507740829, "stop": 1607507740838}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"回源请求时长\"]/../../div[2]//input'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"回源请求时长\"]/../../div[2]//input'"}, {"name": "time_wait", "value": "2"}], "start": 1607507740842, "stop": 1607507740851}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"回源保持长连接\"]/../../div[3]//input'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"回源保持长连接\"]/../../div[3]//input'"}, {"name": "time_wait", "value": "2"}], "start": 1607507740857, "stop": 1607507740867}, {"name": "查找元素:类型-'xpath'，定位：'//label[text()=\"回源失败次数\"]/following::input[1]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//label[text()=\"回源失败次数\"]/following::input[1]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507740872, "stop": 1607507740881}, {"name": "查找元素:类型-'xpath'，定位：'//label[text()=\"回源失败统计时间间隔\"]/following::input[1]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//label[text()=\"回源失败统计时间间隔\"]/following::input[1]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507740884, "stop": 1607507740891}, {"name": "查找元素:类型-'xpath'，定位：'//label[text()=\"回源失败禁用不可用IP时间\"]/following::input[1]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//label[text()=\"回源失败禁用不可用IP时间\"]/following::input[1]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507740894, "stop": 1607507740902}, {"name": "查找元素:类型-'xpath'，定位：'//a[contains(text(),\"高级配置\")]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//a[contains(text(),\"高级配置\")]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507740905, "stop": 1607507740914}, {"name": "查找元素:类型-'xpath'，定位：'//h2[text()=\"HTTPS\"]/../../div[3]//input'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"HTTPS\"]/../../div[3]//input'"}, {"name": "time_wait", "value": "2"}], "start": 1607507741448, "stop": 1607507741467}, {"name": "查找元素:类型-'xpath'，定位：'//i[contains(@class,\"el-icon-back\")]/..'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//i[contains(@class,\"el-icon-back\")]/..'"}, {"name": "time_wait", "value": "5"}], "start": 1607507741472, "stop": 1607507741480}], "parameters": [{"name": "group_name", "value": "'自动化测试使用'"}, {"name": "site_name", "value": "'www.lvluoyun.com'"}], "start": 1607507731990, "stop": 1607507741616}, {"name": "从redis中获取网站的初始配置", "status": "passed", "parameters": [{"name": "site_name", "value": "'www.lvluoyun.com'"}, {"name": "except_result", "value": "['config_time', 'server_name', 'ssl.status', 'ssl.http2https', 'ssl.min_version', 'ssl.http2_disable', 'ssl.hsts', 'proxy_connect_timeout', 'proxy_keepalive', 'health_check.max_fails', 'health_check.fails_timeout', 'health_check.keep_new_src_time']"}], "start": 1607507741616, "stop": 1607507741897}, {"name": "校验网站的配置和预期是否一致", "status": "passed", "steps": [{"name": "打开web安全加速，选择分组：'自动化测试使用'", "status": "passed", "steps": [{"name": "查找元素:类型-'xpath'，定位：'(//input)[2]/following::i[1]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'(//input)[2]/following::i[1]'"}, {"name": "time_wait", "value": "5"}], "start": 1607507742111, "stop": 1607507742120}, {"name": "查找元素:类型-'xpath'，定位：'//li[contains(text(),'自动化测试使用')]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//li[contains(text(),'自动化测试使用')]'"}, {"name": "time_wait", "value": "10"}], "start": 1607507744180, "stop": 1607507744187}], "parameters": [{"name": "group_name", "value": "'自动化测试使用'"}], "start": 1607507742111, "stop": 1607507749836}, {"name": "查找元素:类型-'xpath'，定位：'//a[text()=\"0922.lvluoyun.com\"]'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//a[text()=\"0922.lvluoyun.com\"]'"}, {"name": "time_wait", "value": "2"}], "start": 1607507749849, "stop": 1607507749854}, {"name": "查找多个元素:类型-'xpath'，定位：'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr'", "status": "passed", "attachments": [{"name": "批量获取元素失败", "source": "bdf25942-bbee-4f73-ad89-46df66b5c13a-attachment.png", "type": "image/png"}], "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//h2[text()=\"源站设置\"]/../../div[2]//table[contains(@class,\"body\")]//tr'"}, {"name": "time_wait", "value": "2"}], "start": 1607507750347, "stop": 1607507755827}, {"name": "查找元素:类型-'xpath'，定位：'//i[contains(@class,\"el-icon-back\")]/..'", "status": "passed", "parameters": [{"name": "type", "value": "'xpath'"}, {"name": "path", "value": "'//i[contains(@class,\"el-icon-back\")]/..'"}, {"name": "time_wait", "value": "5"}], "start": 1607507755828, "stop": 1607507755839}], "parameters": [{"name": "group_name", "value": "'自动化测试使用'"}, {"name": "site_name", "value": "'0922.lvluoyun.com'"}], "start": 1607507741898, "stop": 1607507755978}, {"name": "从redis中获取网站的初始配置", "status": "passed", "parameters": [{"name": "site_name", "value": "'0922.lvluoyun.com'"}, {"name": "except_result", "value": "['config_time', 'server_name', 'ssl.status', 'ssl.http2https', 'ssl.min_version', 'ssl.http2_disable', 'ssl.hsts', 'proxy_connect_timeout', 'proxy_keepalive', 'health_check.max_fails', 'health_check.fails_timeout', 'health_check.keep_new_src_time']"}], "start": 1607507755979, "stop": 1607507756329}], "start": 1607507729504, "stop": 1607507756329}, {"name": "比对前后数据", "status": "passed", "attachments": [{"name": "前后结果", "source": "9545c4d9-273c-4f8d-a2a6-e6565d6b2a15-attachment.png", "type": "image/png"}], "start": 1607507756329, "stop": 1607507756329}, {"name": "比对前后数据", "status": "passed", "attachments": [{"name": "前后结果", "source": "d065bde1-34b6-4775-9f9b-1eba8f9ecec7-attachment.png", "type": "image/png"}], "start": 1607507756329, "stop": 1607507756329}], "parameters": [{"name": "status", "value": "'开启'"}], "start": 1607507717265, "stop": 1607507756330, "uuid": "ef674a99-6612-4320-aaa1-d87a649e6795", "historyId": "86379dd76fefbc3e9d37abb51ea1f74c", "testCaseId": "12917654eabe5b88d708ccf2800b81a5", "fullName": "test_web_page.test_config.TestConfig#test_proxy_keepalive", "labels": [{"name": "story", "value": "批量修改回源保持长连接-验证批量修改生效并且其他的参数不受影响"}, {"name": "severity", "value": "critical"}, {"name": "feature", "value": "测试修改配置并校验配置是否生效"}, {"name": "tag", "value": "run(order=4)"}, {"name": "tag", "value": "page"}, {"name": "parentSuite", "value": "test_web_page"}, {"name": "suite", "value": "test_config"}, {"name": "subSuite", "value": "TestConfig"}, {"name": "host", "value": "LAPTOP-HRAELMRK"}, {"name": "thread", "value": "5764-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_web_page.test_config"}]}